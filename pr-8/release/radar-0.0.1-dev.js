var hH=(Q,v)=>()=>(v||Q((v={exports:{}}).exports,v),v.exports);var xH=hH((mH,h)=>{var _=function(){function Q(H,J){return`translate(${H},${J})`}function v(H,J,K){let $=K[K.length-1].radius,Z=20;return[Math.max(0,J[H].factor_x*$)-($+20),Math.max(0,J[H].factor_y*$)-($+20),$+40,$+40].join(" ")}function i(H,J,K){if(K.legend_offset)return K.legend_offset;let $=Array(H),Z=J*0.08,U=-J-K.legend_column_width+Z,X=J-Z,G=[],j=[];for(let D=0;D<H;D++)(D%2===0?j:G).push(D);let Y=-J+80,F=2*J-160;function V(D){if(D<=1)return 0;return Math.max(K.legend_vertical_spacing,F/(D-1))}function P(D,W){let z=V(D.length);for(let k=0;k<D.length;k++){let T=D[k];$[T]={x:W,y:Y+k*z}}}return P(G,U),P(j,X),$}function n(H){let J=H.node().closest(".radar-layout");if(J)return H.select(()=>J);let K=H.node(),$=K.parentNode,Z=document.createElement("div");Z.className="radar-layout";let U=document.createElement("div");U.className="radar-legend-column left";let X=document.createElement("div");X.className="radar-svg-container";let G=document.createElement("div");return G.className="radar-legend-column right",$.insertBefore(Z,K),X.appendChild(K),Z.appendChild(U),Z.appendChild(X),Z.appendChild(G),H.select(()=>Z)}function HH(H){H.svg_id=H.svg||"radar",H.width=H.width||1450,H.height=H.height||1000,H.colors="colors"in H?H.colors:{background:"#fff",grid:"#dddde0",inactive:"#ddd"},H.print_layout="print_layout"in H?H.print_layout:!0,H.links_in_new_tabs="links_in_new_tabs"in H?H.links_in_new_tabs:!0,H.repo_url=H.repo_url||"#",H.print_ring_descriptions_table="print_ring_descriptions_table"in H?H.print_ring_descriptions_table:!1,H.legend_column_width=H.legend_column_width||140,H.legend_line_height=H.legend_line_height||10,H.segment_radial_padding="segment_radial_padding"in H?H.segment_radial_padding:16,H.segment_angular_padding="segment_angular_padding"in H?H.segment_angular_padding:12,H.chart_padding="chart_padding"in H?H.chart_padding:60,H.blip_collision_radius="blip_collision_radius"in H?H.blip_collision_radius:14,H.legend_vertical_spacing=H.legend_vertical_spacing||20,H.radar_horizontal_offset="radar_horizontal_offset"in H?H.radar_horizontal_offset:Math.round(H.legend_column_width*0.25),H.debug_geometry="debug_geometry"in H?H.debug_geometry:!1;let J=window.innerWidth||document.documentElement.clientWidth,K=window.innerHeight||document.documentElement.clientHeight;if(J<1024&&!H.scale){let U=Math.min(J/1450,K/1000);H.scale=Math.max(0.5,Math.min(1,U))}let $=H.quadrants.length,Z=H.rings.length;if($>=5||Z>=6){let U=1+($-4)*0.05+(Z-4)*0.03;if(!H.width_override)H.width=Math.round(H.width*Math.min(U,1.3));if(!H.height_override)H.height=Math.round(H.height*Math.min(U,1.3));if($>=7||Z>=7)H.blip_collision_radius=Math.max(10,H.blip_collision_radius*0.9)}}function JH(H){let J=H.print_layout&&H.title?60:0,K=H.print_layout?40:0,$=2*H.chart_padding+40,Z=Math.max($,H.height-J-K),U=Math.max(2*H.chart_padding+40,H.width),X=Math.min(U,Z)/2-H.chart_padding,G=Math.max(10,X);return{title_height:J,footer_height:K,available_height:Z,available_width:U,target_outer_radius:G}}function KH(H,J,K){if(!H.title_offset)H.title_offset={x:-J,y:-J-40};if(!H.footer_offset)H.footer_offset={x:-J,y:J+60};H.legend_offset=i(K,J,H)}function ZH(H){let J=[],K=2/H,$=H===2?-0.5:0;for(let Z=0;Z<H;Z++){let U=-1+Z*K+$,X=-1+(Z+1)*K+$,G=-Math.PI+(Z+0.5)*K*Math.PI+$*Math.PI;J.push({radial_min:U,radial_max:X,factor_x:Math.cos(G),factor_y:Math.sin(G)})}return J}function x(H,J,K){let $=2*Math.PI,Z=H,U=J;while(U<=Z)U+=$;let X=[-Math.PI,-Math.PI/2,0,Math.PI/2,Math.PI,3*Math.PI/2,2*Math.PI],G=[Z,U];X.forEach((D)=>{let W=D;while(W<Z)W+=$;if(W<=U)G.push(W)});let j=1/0,Y=-1/0,F=1/0,V=-1/0;G.forEach((D)=>{let W=Math.cos(D),z=Math.sin(D);j=Math.min(j,W),Y=Math.max(Y,W),F=Math.min(F,z),V=Math.max(V,z)});let P=20;return{min:{x:j*K-P,y:F*K-P},max:{x:Y*K+P,y:V*K+P}}}function $H(H){if(H===4)return[2,3,1,0];let J=[],K=Math.floor(H/2);for(let $=0;$<H;$++)J.push((K+$)%H);return J}var y=[130,220,310,400],m=400;function jH(H,J){let K=[];if(H===4)for(let Z=0;Z<4;Z++)K.push(y[Z]);else for(let Z=0;Z<H;Z++){let U=Z/(H-1)*3,X=Math.floor(U),G=U-X,j;if(X>=3)j=m;else j=y[X]+(y[X+1]-y[X])*G;K.push(j)}let $=J/m;return K.map((Z)=>({radius:Math.max(10,Math.round(Z*$))}))}function UH(H){let{x:J,y:K}=H;return{t:Math.atan2(K,J),r:Math.sqrt(J*J+K*K)}}function p(H){let{r:J,t:K}=H;return{x:J*Math.cos(K),y:J*Math.sin(K)}}function R(H,J,K){let $=Math.min(J,K),Z=Math.max(J,K);return Math.min(Math.max(H,$),Z)}function YH(H,J,K){return{t:H.t,r:R(H.r,J,K)}}function l(H,J,K){return{x:R(H.x,J.x,K.x),y:R(H.y,J.y,K.y)}}function f(H,J,K,$,Z,U){let X=K[H].radial_min*Math.PI,G=K[H].radial_max*Math.PI,j=J===0?30:$[J-1].radius,Y=$[J].radius,F=j+Z.segment_radial_padding,V=Y-Z.segment_radial_padding;if(V<=F){let M=(j+Y)/2;F=Math.max(0,M-1),V=M+1}let P=(F+V)/2,D=Z.segment_angular_padding/Math.max(P,1),W=Math.max(0,(G-X)/2-0.01);D=Math.min(D,W);let z=X+D,k=G-D;if(k<=z)z=X,k=G;let T=x(z,k,V),I=T.min,C=T.max;function B(M){let N=l(M,I,C),E=UH(N);return E.r=R(E.r,F,V),E.t=R(E.t,z,k),p(E)}function w(M){let N=B({x:M.x,y:M.y});return M.x=N.x,M.y=N.y,N}return{clipx:(M)=>{return w(M).x},clipy:(M)=>{return w(M).y},clip:(M)=>{let N=B({x:M.x,y:M.y});return M.x=N.x,M.y=N.y,N},random:()=>p({t:U(z,k),r:U(F,V)})}}class c{constructor(H=42){this.seed=H,this.initialSeed=H}next(){let H=Math.sin(this.seed++)*1e4;return H-Math.floor(H)}between(H,J){return H+this.next()*(J-H)}normalBetween(H,J){return H+(this.next()+this.next())*0.5*(J-H)}reset(H){this.seed=H!==void 0?H:this.initialSeed}}class s{constructor(H,J,K,$,Z){this.config=H,this.quadrants=J,this.rings=K,this.randomNext=$,this.randomBetween=Z,this.numQuadrants=J.length,this.numRings=K.length}processEntries(H){let J=this.segmentEntries(H);return this.assignSegmentsAndColors(H),this.positionEntries(J),this.assignIds(J),this.calculateCollisionRadii(J),H}segmentEntries(H){let J=Array(this.numQuadrants);for(let K=0;K<this.numQuadrants;K++){J[K]=Array(this.numRings);for(let $=0;$<this.numRings;$++)J[K][$]=[]}for(let K=0;K<H.length;K++){let $=H[K];J[$.quadrant][$.ring].push($)}return J}assignSegmentsAndColors(H){for(let J=0;J<H.length;J++){let K=H[J];K.segment=f(K.quadrant,K.ring,this.quadrants,this.rings,this.config,this.randomBetween),K.color=K.active||this.config.print_layout?this.config.rings[K.ring].color:this.config.colors.inactive}}positionEntries(H){for(let J=0;J<this.numQuadrants;J++)for(let K=0;K<this.numRings;K++)this.gridPosition(H[J][K],J,K)}gridPosition(H,J,K){if(H.length===0)return;let $=this.quadrants[J].radial_min*Math.PI,Z=this.quadrants[J].radial_max*Math.PI,U=K===0?30:this.rings[K-1].radius,X=this.rings[K].radius,G=U+this.config.segment_radial_padding,j=X-this.config.segment_radial_padding;if(j<=G){let O=(U+X)/2;G=Math.max(0,O-1),j=O+1}let Y=(G+j)/2,F=this.config.segment_angular_padding/Math.max(Y,1),V=Math.max(0,(Z-$)/2-0.01);F=Math.min(F,V);let P=$+F,W=Z-F-P,z=j-G,k=H.length,I=W*(K===0?G:Y),C=z,B=this.config.blip_collision_radius||14,w=Math.max(3,Math.floor(I/(B*0.7))),M=Math.max(3,Math.floor(C/(B*0.7))),N,E,A=Math.ceil(Math.sqrt(k)),L=I/Math.max(C,1);if(k===1)N=1,E=1;else if(k<=4)N=Math.min(k,w),E=Math.ceil(k/N);else{if(L>2)N=Math.min(w,Math.ceil(A*1.5)),E=Math.ceil(k/N);else if(L>1)N=Math.min(w,Math.ceil(A*1.2)),E=Math.ceil(k/N);else if(L<0.5)N=Math.min(w,Math.max(3,Math.floor(A*(K===0?0.85:0.7)))),E=Math.ceil(k/N);else N=Math.min(w,Math.max(3,A)),E=Math.ceil(k/N);N=Math.max(2,Math.min(N,w)),E=Math.max(2,Math.min(E,M))}for(let O=0;O<H.length;O++){let S=H[O],r=O%N,b=Math.floor(O/N);if(b>=E){let yH=N*E,e=O%yH;r=e%N,b=Math.floor(e/N)}let QH=(r+0.15+this.randomNext()*0.7)/N,vH=(b+0.15+this.randomNext()*0.7)/E,RH=P+QH*W,qH=G+vH*z,a=p({t:RH,r:qH});S.x=a.x,S.y=a.y}}assignIds(H){let J=1,K=$H(this.numQuadrants);for(let $ of K)for(let Z=0;Z<this.numRings;Z++){let U=H[$][Z];U.sort((X,G)=>X.label.localeCompare(G.label));for(let X=0;X<U.length;X++)U[X].id=`${J++}`}}calculateCollisionRadii(H){for(let J=0;J<this.numQuadrants;J++)for(let K=0;K<this.numRings;K++){let $=H[J][K];if($.length===0)continue;let Z=K===0?30:this.rings[K-1].radius,U=this.rings[K].radius,X=Z+this.config.segment_radial_padding,G=U-this.config.segment_radial_padding;if(G<=X){let z=(Z+U)/2;X=Math.max(0,z-1),G=z+1}let j=(this.quadrants[J].radial_max-this.quadrants[J].radial_min)*Math.PI,Y=(X+G)/2,F=G-X,P=j*Y*F/$.length,D=Math.sqrt(P/Math.PI)*0.55,W=Math.max(12,D);if($.length>10)W=Math.max(W,13);if($.length>15)W=Math.max(W,14);if(K===0&&this.numQuadrants>=6)W=Math.max(10,W*0.9);for(let z=0;z<$.length;z++)$[z].collision_radius=W}}}function GH(H,J,K,$,Z,U,X){let G=window.d3,j=H.selectAll(".blip").data(J).enter().append("g").attr("class","blip").attr("transform",(Y)=>Q(Y.x,Y.y)).on("mouseover",(Y,F)=>{$(F,K),U(F)}).on("mouseout",(Y,F)=>{Z(),X(F)});return j.each(function(Y){let F=G.select(this),V=F;if(Y.active&&Object.hasOwn(Y,"link")&&Y.link){if(V=F.append("a").attr("xlink:href",Y.link),K.links_in_new_tabs)V.attr("target","_blank")}XH(V,Y),FH(V,Y,K)}),j}function XH(H,J){let K=window.d3;if(J.moved===1)H.append("path").attr("d","M -11,5 11,5 0,-13 z").style("fill",J.color);else if(J.moved===-1)H.append("path").attr("d","M -11,-5 11,-5 0,13 z").style("fill",J.color);else if(J.moved===2)H.append("path").attr("d",K.symbol().type(K.symbolStar).size(200)).style("fill",J.color);else H.append("circle").attr("r",9).attr("fill",J.color)}function FH(H,J,K){if(J.active||K.print_layout){let $=K.print_layout?J.id:J.label.match(/[a-z]/i);H.append("text").text($).attr("y",3).attr("text-anchor","middle").style("fill","#fff").style("font-family",K.font_family).style("font-size",(Z)=>$.length>2?"8px":"9px").style("pointer-events","none").style("user-select","none")}}function DH(H,J,K,$,Z,U,X){let G=window.d3,j=H.append("g").attr("id","debug-layer"),Y=$[$.length-1].radius;NH(j,J,K,$,Z,U,X),zH(j,J.entries,J.blip_collision_radius),TH(j,Y),OH(j,Z,Y),PH(j,Y)}function NH(H,J,K,$,Z,U,X){let G=window.d3;for(let j=0;j<Z;j++)for(let Y=0;Y<U;Y++){let F=Y===0?30:$[Y-1].radius,V=$[Y].radius,P=F+J.segment_radial_padding,D=V-J.segment_radial_padding,W=(P+D)/2,z=J.segment_angular_padding/Math.max(W,1),k=K[j].radial_min*Math.PI,T=K[j].radial_max*Math.PI,I=Math.max(0,(T-k)/2-0.01);z=Math.min(z,I);let C=k+z,B=T-z;if(B<=C)C=k,B=T;if(VH(H,P,D,C,B,Z,Y),WH(H,K[j].radial_min*Math.PI,K[j].radial_max*Math.PI,D),Y===0)kH(H,j,Y,C,B,P,D,X[j][Y].length)}}function VH(H,J,K,$,Z,U,X){let G=window.d3,j=Math.PI/(2*U),Y=U%4===1?j:-j,F=G.arc().innerRadius(J).outerRadius(K).startAngle(-Z+Y).endAngle(-$+Y);H.append("path").attr("d",F).attr("fill","none").attr("stroke",X===0?"#ff0000":"#00ffff").attr("stroke-width",X===0?2:1).attr("stroke-dasharray","5,5").attr("opacity",0.5)}function WH(H,J,K,$){let Z=x(J,K,$);H.append("rect").attr("x",Z.min.x).attr("y",Z.min.y).attr("width",Z.max.x-Z.min.x).attr("height",Z.max.y-Z.min.y).attr("fill","none").attr("stroke","#ffff00").attr("stroke-width",1).attr("stroke-dasharray","3,3").attr("opacity",0.3)}function kH(H,J,K,$,Z,U,X,G){let j=($+Z)/2,Y=(U+X)/2,F=Math.cos(j)*Y,V=Math.sin(j)*Y,P=(Z-$)*U;H.append("text").attr("x",F).attr("y",V).attr("text-anchor","middle").attr("font-size","10px").attr("fill","#ff0000").attr("font-weight","bold").text(`Q${J}R${K}: ${G} items, arc=${P.toFixed(0)}px`)}function zH(H,J,K){let $=window.d3;H.append("g").attr("id","debug-collision-radii").selectAll("circle").data(J).enter().append("circle").attr("cx",(Z)=>Z.x).attr("cy",(Z)=>Z.y).attr("r",(Z)=>Z.collision_radius||K).attr("fill","none").attr("stroke",(Z)=>Z.ring===0?"#00ff00":"#0000ff").attr("stroke-width",1).attr("stroke-dasharray","2,2").attr("opacity",0.4)}function TH(H,J){H.append("line").attr("x1",-J).attr("y1",0).attr("x2",J).attr("y2",0).attr("stroke","#666").attr("stroke-width",0.5).attr("opacity",0.3),H.append("line").attr("x1",0).attr("y1",-J).attr("x2",0).attr("y2",J).attr("stroke","#666").attr("stroke-width",0.5).attr("opacity",0.3)}function OH(H,J,K){for(let $=0;$<J;$++){let Z=-Math.PI+$*2*Math.PI/J;H.append("line").attr("x1",0).attr("y1",0).attr("x2",K*Math.cos(Z)).attr("y2",K*Math.sin(Z)).attr("stroke","#ff00ff").attr("stroke-width",2).attr("opacity",0.6).attr("stroke-dasharray","10,5")}}function PH(H,J){let K=H.append("g").attr("transform",Q(-J+10,-J+10));[{y:0,text:"DEBUG MODE",color:"#000",bold:!0,fontSize:"11px"},{y:15,text:"━━ Ring 0 polar sector",color:"#ff0000",bold:!1,fontSize:"9px"},{y:28,text:"━━ Other rings polar sector",color:"#00ffff",bold:!1,fontSize:"9px"},{y:41,text:"━━ Cartesian bounding box",color:"#ffff00",bold:!1,fontSize:"9px"},{y:54,text:"○ Collision radius (Ring 0)",color:"#00ff00",bold:!1,fontSize:"9px"}].forEach((Z)=>{K.append("text").attr("x",0).attr("y",Z.y).attr("font-size",Z.fontSize).attr("font-weight",Z.bold?"bold":"normal").attr("fill",Z.color).text(Z.text)})}function MH(H,J){let K=window.d3;return function(){if(H.attr("transform",(Z)=>{let U=Z.segment.clip(Z);return Z.rendered_x=U.x,Z.rendered_y=U.y,Q(U.x,U.y)}),J.debug_geometry)K.select("#debug-collision-radii").selectAll("circle").attr("cx",(Z)=>Z.x).attr("cy",(Z)=>Z.y)}}function EH(H,J,K){let $=window.d3,Z=MH(J,K);$.forceSimulation().nodes(H).velocityDecay(0.15).alphaDecay(0.008).alphaMin(0.00005).force("collision",$.forceCollide().radius((U)=>U.collision_radius||K.blip_collision_radius).strength(1).iterations(6)).on("tick",Z).tick(400)}function wH(H,J,K,$,Z){let U=K.length;for(let j=0;j<U;j++){let Y=-Math.PI+j*2*Math.PI/U;H.append("line").attr("x1",0).attr("y1",0).attr("x2",Z*Math.cos(Y)).attr("y2",Z*Math.sin(Y)).attr("class",`quadrant-line quadrant-line-${j}`).style("stroke",J.colors.grid).style("stroke-width",1.5).style("stroke-opacity",0.3)}let G=H.append("defs").append("filter").attr("x",0).attr("y",0).attr("width",1).attr("height",1).attr("id","solid");G.append("feFlood").attr("flood-color","rgb(0, 0, 0, 0.8)"),G.append("feComposite").attr("in","SourceGraphic");for(let j=0;j<$.length;j++){let Y=$[j].radius,F=j===0?0:$[j-1].radius,V=Math.max(Y-F,1),P=Y-V/2,D=Math.max(12,Math.min(32,V*0.45));if(j>0)H.append("circle").attr("cx",0).attr("cy",0).attr("r",Y).attr("class",`ring ring-${j}`).style("fill",j%2===0?"rgba(0, 0, 0, 0.01)":"rgba(0, 0, 0, 0.015)").style("stroke","none").style("pointer-events","none");if(H.append("circle").attr("cx",0).attr("cy",0).attr("r",Y).attr("class",`ring-border ring-border-${j}`).style("fill","none").style("stroke",J.colors.grid).style("stroke-width",j===0?2:1).style("stroke-opacity",j===0?0.4:0.25),J.print_layout)H.append("text").text(J.rings[j].name).attr("y",-P).attr("text-anchor","middle").attr("dominant-baseline","middle").style("fill",J.rings[j].color).style("opacity",0.35).style("font-family",J.font_family).style("font-size",`${D}px`).style("font-weight","bold").style("pointer-events","none").style("user-select","none")}}function BH(H,J){if(J.title&&J.print_layout){let K=H.append("a").attr("href",J.repo_url).attr("target",J.links_in_new_tabs?"_blank":null);K.append("text").attr("transform",`translate(${J.title_offset.x}, ${J.title_offset.y})`).text(J.title).style("font-family",J.font_family).style("font-size","34px").style("font-weight","bold"),K.append("text").attr("transform",`translate(${J.title_offset.x}, ${J.title_offset.y+30})`).text(J.date?J.date:"").style("font-family",J.font_family).style("font-size","14px").style("fill","#999")}if(J.footer&&J.print_layout)H.append("text").attr("transform",`translate(${J.footer_offset.x}, ${J.footer_offset.y})`).text(J.footer).attr("xml:space","preserve").style("font-family",J.font_family).style("font-size","10px").style("fill","#999")}function AH(H,J){let K=H.append("g").attr("id","bubble").attr("x",0).attr("y",0).style("opacity",0).style("pointer-events","none").style("user-select","none");return K.append("rect").attr("rx",4).attr("ry",4).style("fill","#333"),K.append("text").style("font-family",J).style("font-size","10px").style("fill","#fff"),K.append("path").attr("d","M 0,0 10,0 5,8 z").style("fill","#333"),K}function u(H,J){if(H.active||J.print_layout){let K=window.d3,Z=K.select("#bubble text").text(H.label).node().getBBox(),U=H.rendered_x!==void 0?H.rendered_x:H.x,X=H.rendered_y!==void 0?H.rendered_y:H.y;K.select("#bubble").attr("transform",Q(U-Z.width/2,X-16)).style("opacity",0.8),K.select("#bubble rect").attr("x",-5).attr("y",-Z.height).attr("width",Z.width+10).attr("height",Z.height+4),K.select("#bubble path").attr("transform",Q(Z.width/2-5,3))}}function t(){window.d3.select("#bubble").attr("transform",Q(0,0)).style("opacity",0)}function o(H){let J=document.getElementById(`legendItem${H.id}`);if(J)J.classList.add("legend-highlight")}function d(H){let J=document.getElementById(`legendItem${H.id}`);if(J)J.classList.remove("legend-highlight")}function CH(H,J,K,$,Z,U,X,G,j,Y){H.html(""),J.html("");let F=U>=7?3:2,V=Math.ceil(Z/2),P=Math.floor(Z/2),D=Z-2,W=[],z=[];for(let T=0;T<V;T++)z.push((D+T)%Z);for(let T=0;T<P;T++)W.push((D-1-T+Z)%Z);function k(T){return W.includes(T)?H:J}for(let T=0;T<Z;T++){let C=k(T).append("div").attr("class","legend-section").style("--legend-columns",F);C.append("div").attr("class","legend-quadrant-name").text($.quadrants[T].name);let B=C.append("div").attr("class","legend-rings");for(let w=0;w<U;w++){let M=K[T][w];if(!M.length)continue;let N=B.append("div").attr("class","legend-ring");N.append("div").attr("class","legend-ring-name").style("color",$.rings[w].color).text($.rings[w].name),N.append("div").attr("class","legend-ring-entries").selectAll("a").data(M).enter().append("a").attr("href",(A)=>A.link?A.link:"#").attr("target",(A)=>A.link&&$.links_in_new_tabs?"_blank":null).attr("id",(A)=>`legendItem${A.id}`).attr("class","legend-entry").text((A)=>`${A.id}. ${A.label}`).on("mouseover",(A,L)=>{X(L,$),j(L)}).on("mouseout",(A,L)=>{G(),Y(L)})}}}function SH(H,J,K,$){let Z=window.d3;H.scale=H.scale||1;let U=H.width*H.scale,X=H.height*H.scale,G=Z.select(`svg#${H.svg_id}`).style("background-color",H.colors.background).attr("width",U).attr("height",X),j=n(G),Y=j.select(".radar-legend-column.left"),F=j.select(".radar-legend-column.right"),V=j.node().getBoundingClientRect().width||H.width,P=H.legend_column_width*2+60,D=H.legend_column_width*4+80,W=Math.min(D,Math.max(P,V*0.3)),z=Math.min(4,Math.max(2,Math.floor(W/(H.legend_column_width+20))));Y.style("gap",`${H.legend_vertical_spacing}px`).style("width",`${W}px`),F.style("gap",`${H.legend_vertical_spacing}px`).style("width",`${W}px`);let k=G.append("g");if("zoomed_quadrant"in H)G.attr("viewBox",v(H.zoomed_quadrant,J,K));else{let I=X/2+($.title_height-$.footer_height)/2,C=U/2+H.radar_horizontal_offset;k.attr("transform",Q(C,I).concat(`scale(${H.scale})`))}H.font_family=H.font_family||"Arial, Helvetica";let T=k.append("g");return{svg:G,radar:k,legendLeftColumn:Y,legendRightColumn:F,grid:T,legendSectionColumns:z}}function IH(H){let K=window.d3.select("body").append("table").attr("class","radar-table").style("border-collapse","collapse").style("position","relative").style("top","-70px").style("margin-left","50px").style("margin-right","50px").style("font-family",H.font_family).style("font-size","13px").style("text-align","left"),$=K.append("thead"),Z=K.append("tbody"),U=`${100/H.rings.length}%`;$.append("tr").style("border","1px solid #ddd").selectAll("th").data(H.rings).enter().append("th").style("padding","8px").style("border","1px solid #ddd").style("background-color",(j)=>j.color).style("color","#fff").style("width",U).text((j)=>j.name),Z.append("tr").style("border","1px solid #ddd").selectAll("td").data(H.rings).enter().append("td").style("padding","8px").style("border","1px solid #ddd").style("width",U).text((j)=>j.description)}class q extends Error{constructor(H,J,K){super(H);this.name="ConfigValidationError",this.field=J,this.value=K}}function LH(H){let J=[];if(!H.quadrants||H.quadrants.length<2||H.quadrants.length>8)J.push(new q(`Number of quadrants must be between 2 and 8 (found: ${H.quadrants?.length||0})`,"quadrants",H.quadrants?.length));if(!H.rings||H.rings.length<4||H.rings.length>8)J.push(new q(`Number of rings must be between 4 and 8 (found: ${H.rings?.length||0})`,"rings",H.rings?.length));if(H.entries&&H.quadrants&&H.rings)H.entries.forEach((K,$)=>{if(K.quadrant<0||K.quadrant>=H.quadrants.length)J.push(new q(`Entry '${K.label}' has invalid quadrant: ${K.quadrant} (must be 0-${H.quadrants.length-1})`,`entries[${$}].quadrant`,K.quadrant));if(K.ring<0||K.ring>=H.rings.length)J.push(new q(`Entry '${K.label}' has invalid ring: ${K.ring} (must be 0-${H.rings.length-1})`,`entries[${$}].ring`,K.ring))});if(J.length>0)throw J[0];return!0}function g(H){HH(H);let J=JH(H),K=J.target_outer_radius;LH(H);let $=new c(42),Z=()=>$.next(),U=(O,S)=>$.between(O,S),X=(O,S)=>$.normalBetween(O,S),G=H.quadrants.length,j=ZH(G),Y=H.rings.length,F=jH(Y,K),V=F[F.length-1].radius,P=j.map((O)=>x(O.radial_min*Math.PI,O.radial_max*Math.PI,V));KH(H,V,G);let D=R,W=YH,z=l;function k(O,S){return f(O,S,j,F,H,U)}new s(H,j,F,Z,U).processEntries(H.entries);let I=Array(G);for(let O=0;O<G;O++){I[O]=Array(Y);for(let S=0;S<Y;S++)I[O][S]=[]}for(let O=0;O<H.entries.length;O++){let S=H.entries[O];I[S.quadrant][S.ring].push(S)}let C=SH(H,j,F,J),{radar:B,legendLeftColumn:w,legendRightColumn:M,grid:N}=C;if(wH(N,H,j,F,V),!H.footer)H.footer="▲ moved up     ▼ moved down     ★ new     ⬤ no change";if(BH(B,H),H.print_layout)w.style("display","flex"),M.style("display","flex"),CH(w,M,I,H,G,Y,u,t,o,d);else w.style("display","none").html(""),M.style("display","none").html("");let E=B.append("g").attr("id","rink"),A=AH(B,H.font_family),L=GH(E,H.entries,H,u,t,o,d);if(EH(H.entries,L,H),H.debug_geometry)DH(B,H,j,F,G,Y,I);if(H.print_ring_descriptions_table)IH(H)}var pH=g;return g}();if(typeof window<"u")window.radar_visualization=_;if(typeof h<"u"&&typeof h.exports<"u")h.exports=_;if(typeof global<"u")global.radar_visualization=_});export default xH();
