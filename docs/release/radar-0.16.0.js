var radar_visualization=function(){"use strict";function t(t){const{r:n,t:e}=t;return{x:n*Math.cos(e),y:n*Math.sin(e)}}function n(t,n,e){const a=Math.min(n,e),i=Math.max(n,e);return Math.min(Math.max(t,a),i)}function e(t,e,a){return{x:n(t.x,e.x,a.x),y:n(t.y,e.y,a.y)}}class a{constructor(t=42){this.seed=t,this.initialSeed=t}next(){const t=1e4*Math.sin(this.seed++);return t-Math.floor(t)}between(t,n){return t+this.next()*(n-t)}normalBetween(t,n){return t+.5*(this.next()+this.next())*(n-t)}reset(t){this.seed=void 0!==t?t:this.initialSeed}}class i extends Error{constructor(t,n,e){super(t),this.name="ConfigValidationError",this.field=n,this.value=e}}function r(t,n,e){const a=2*Math.PI;let i=t,r=n;for(;r<=i;)r+=a;const o=[-Math.PI,-Math.PI/2,0,Math.PI/2,Math.PI,3*Math.PI/2,2*Math.PI],s=[i,r];o.forEach(function(t){let n=t;for(;n<i;)n+=a;n<=r&&s.push(n)});let l=1/0,d=-1/0,c=1/0,h=-1/0;s.forEach(function(t){const n=Math.cos(t),e=Math.sin(t);l=Math.min(l,n),d=Math.max(d,n),c=Math.min(c,e),h=Math.max(h,e)});return{min:{x:l*e-20,y:c*e-20},max:{x:d*e+20,y:h*e+20}}}var o=[130,220,310,400];function s(a,i,o,s,l,d){const c=o[a].radial_min*Math.PI,h=o[a].radial_max*Math.PI,f=0===i?30:s[i-1].radius,u=s[i].radius;let g=f+l.segment_radial_padding,p=u-l.segment_radial_padding;if(p<=g){const t=(f+u)/2;g=Math.max(0,t-1),p=t+1}const m=(g+p)/2;let y=l.segment_angular_padding/Math.max(m,1);const _=Math.max(0,(h-c)/2-.01);y=Math.min(y,_);let x=c+y,M=h-y;M<=x&&(x=c,M=h);const b=r(x,M,p),w=b.min,v=b.max;function k(a){const i=function(t){const{x:n,y:e}=t;return{t:Math.atan2(e,n),r:Math.sqrt(n*n+e*e)}}(e(a,w,v));return i.r=n(i.r,g,p),i.t=n(i.t,x,M),t(i)}function q(t){const n=k({x:t.x,y:t.y});return t.x=n.x,t.y=n.y,n}return{clipx:function(t){return q(t).x},clipy:function(t){return q(t).y},clip:function(t){const n=k({x:t.x,y:t.y});return t.x=n.x,t.y=n.y,n},random:function(){return t({t:d(x,M),r:d(g,p)})}}}class l{constructor(t,n,e,a,i){this.config=t,this.quadrants=n,this.rings=e,this.randomNext=a,this.randomBetween=i,this.numQuadrants=n.length,this.numRings=e.length}processEntries(t){const n=this.segmentEntries(t);return this.assignSegmentsAndColors(t),this.positionEntries(n),this.assignIds(n),this.calculateCollisionRadii(n),t}segmentEntries(t){const n=new Array(this.numQuadrants);for(let t=0;t<this.numQuadrants;t++){n[t]=new Array(this.numRings);for(let e=0;e<this.numRings;e++)n[t][e]=[]}for(let e=0;e<t.length;e++){const a=t[e];n[a.quadrant][a.ring].push(a)}return n}assignSegmentsAndColors(t){for(let n=0;n<t.length;n++){const e=t[n];e.segment=s(e.quadrant,e.ring,this.quadrants,this.rings,this.config,this.randomBetween),e.color=e.active||this.config.print_layout?this.config.rings[e.ring].color:this.config.colors.inactive}}positionEntries(t){for(let n=0;n<this.numQuadrants;n++)for(let e=0;e<this.numRings;e++)this.gridPosition(t[n][e],n,e)}gridPosition(n,e,a){if(0===n.length)return;const i=this.quadrants[e].radial_min*Math.PI,r=this.quadrants[e].radial_max*Math.PI,o=0===a?30:this.rings[a-1].radius,s=this.rings[a].radius;let l=o+this.config.segment_radial_padding,d=s-this.config.segment_radial_padding;if(d<=l){const t=(o+s)/2;l=Math.max(0,t-1),d=t+1}const c=(l+d)/2;let h=this.config.segment_angular_padding/Math.max(c,1);const f=Math.max(0,(r-i)/2-.01);h=Math.min(h,f);const u=i+h,g=r-h-u,p=d-l,m=n.length,y=g*(0===a?l:c),_=p,x=this.config.blip_collision_radius||14,M=Math.max(3,Math.floor(y/(.7*x))),b=Math.max(3,Math.floor(_/(.7*x)));let w,v;const k=Math.ceil(Math.sqrt(m)),q=y/Math.max(_,1);if(1===m)w=1,v=1;else if(m<=4)w=Math.min(m,M),v=Math.ceil(m/w);else{if(q>2)w=Math.min(M,Math.ceil(1.5*k)),v=Math.ceil(m/w);else if(q>1)w=Math.min(M,Math.ceil(1.2*k)),v=Math.ceil(m/w);else if(q<.5){const t=0===a?.85:.7;w=Math.min(M,Math.max(3,Math.floor(k*t))),v=Math.ceil(m/w)}else w=Math.min(M,Math.max(3,k)),v=Math.ceil(m/w);w=Math.max(2,Math.min(w,M)),v=Math.max(2,Math.min(v,b))}for(let e=0;e<n.length;e++){const a=n[e];let i=e%w,r=Math.floor(e/w);if(r>=v){const t=e%(w*v);i=t%w,r=Math.floor(t/w)}const o=t({t:u+(i+.15+.7*this.randomNext())/w*g,r:l+(r+.15+.7*this.randomNext())/v*p});a.x=o.x,a.y=o.y}}assignIds(t){let n=1;const e=function(t){if(4===t)return[2,3,1,0];const n=[],e=Math.floor(t/2);for(let a=0;a<t;a++)n.push((e+a)%t);return n}(this.numQuadrants);for(const a of e)for(let e=0;e<this.numRings;e++){const i=t[a][e];i.sort(function(t,n){return t.label.localeCompare(n.label)});for(let t=0;t<i.length;t++)i[t].id=""+n++}}calculateCollisionRadii(t){for(let n=0;n<this.numQuadrants;n++)for(let e=0;e<this.numRings;e++){const a=t[n][e];if(0===a.length)continue;const i=0===e?30:this.rings[e-1].radius,r=this.rings[e].radius;let o=i+this.config.segment_radial_padding,s=r-this.config.segment_radial_padding;if(s<=o){const t=(i+r)/2;o=Math.max(0,t-1),s=t+1}const l=(this.quadrants[n].radial_max-this.quadrants[n].radial_min)*Math.PI*((o+s)/2)*(s-o)/a.length,d=.55*Math.sqrt(l/Math.PI);let c=Math.max(12,d);a.length>10&&(c=Math.max(c,13)),a.length>15&&(c=Math.max(c,14)),0===e&&this.numQuadrants>=6&&(c=Math.max(10,.9*c));for(let t=0;t<a.length;t++)a[t].collision_radius=c}}}function d(t,n){return"translate("+t+","+n+")"}function c(t,n,e){if(e.legend_offset)return e.legend_offset;const a=new Array(t),i=.08*n,r=-n-e.legend_column_width+i,o=n-i,s=[],l=[];for(let n=0;n<t;n++){(n%2==0?l:s).push(n)}const d=80-n,c=2*n-160;function h(t,n){const i=(r=t.length)<=1?0:Math.max(e.legend_vertical_spacing,c/(r-1));var r;for(let e=0;e<t.length;e++){const r=t[e];a[r]={x:n,y:d+e*i}}}return h(s,r),h(l,o),a}function h(t,n){if(t.active||n.print_layout){const n=window.d3,e=n.select("#bubble text").text(t.label).node().getBBox(),a=void 0!==t.rendered_x?t.rendered_x:t.x,i=void 0!==t.rendered_y?t.rendered_y:t.y;n.select("#bubble").attr("transform",d(a-e.width/2,i-16)).style("opacity",.8),n.select("#bubble rect").attr("x",-5).attr("y",-e.height).attr("width",e.width+10).attr("height",e.height+4),n.select("#bubble path").attr("transform",d(e.width/2-5,3))}}function f(){window.d3.select("#bubble").attr("transform",d(0,0)).style("opacity",0)}function u(t){const n=document.getElementById("legendItem"+t.id);n&&n.classList.add("legend-highlight")}function g(t){const n=document.getElementById("legendItem"+t.id);n&&n.classList.remove("legend-highlight")}function p(t,n,e,a,i,r,o){const s=window.d3,l=t.selectAll(".blip").data(n).enter().append("g").attr("class","blip").attr("transform",function(t){return d(t.x,t.y)}).on("mouseover",function(t,n){a(n,e),r(n)}).on("mouseout",function(t,n){i(),o(n)});return l.each(function(t){const n=s.select(this);let a=n;t.active&&Object.prototype.hasOwnProperty.call(t,"link")&&t.link&&(a=n.append("a").attr("xlink:href",t.link),e.links_in_new_tabs&&a.attr("target","_blank")),function(t,n){const e=window.d3;1===n.moved?t.append("path").attr("d","M -11,5 11,5 0,-13 z").style("fill",n.color):-1===n.moved?t.append("path").attr("d","M -11,-5 11,-5 0,13 z").style("fill",n.color):2===n.moved?t.append("path").attr("d",e.symbol().type(e.symbolStar).size(200)).style("fill",n.color):t.append("circle").attr("r",9).attr("fill",n.color)}(a,t),function(t,n,e){if(n.active||e.print_layout){const a=e.print_layout?n.id:n.label.match(/[a-z]/i);t.append("text").text(a).attr("y",3).attr("text-anchor","middle").style("fill","#fff").style("font-family",e.font_family).style("font-size",function(t){return a.length>2?"8px":"9px"}).style("pointer-events","none").style("user-select","none")}}(a,t,e)}),l}function m(t,n,e){const a=window.d3,i=function(t,n){const e=window.d3;return function(){t.attr("transform",function(t){const n=t.segment.clip(t);return t.rendered_x=n.x,t.rendered_y=n.y,d(n.x,n.y)}),n.debug_geometry&&e.select("#debug-collision-radii").selectAll("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}}(n,e);a.forceSimulation().nodes(t).velocityDecay(.15).alphaDecay(.008).alphaMin(5e-5).force("collision",a.forceCollide().radius(function(t){return t.collision_radius||e.blip_collision_radius}).strength(1).iterations(6)).on("tick",i).tick(400)}function y(t,n,e,a,i,r,o){window.d3;const s=t.append("g").attr("id","debug-layer"),l=a[a.length-1].radius;!function(t,n,e,a,i,r,o){window.d3;for(let s=0;s<i;s++)for(let l=0;l<r;l++){const r=0===l?30:a[l-1].radius,d=a[l].radius,c=r+n.segment_radial_padding,h=d-n.segment_radial_padding,f=(c+h)/2;let u=n.segment_angular_padding/Math.max(f,1);const g=e[s].radial_min*Math.PI,p=e[s].radial_max*Math.PI,m=Math.max(0,(p-g)/2-.01);u=Math.min(u,m);let y=g+u,b=p-u;b<=y&&(y=g,b=p),_(t,c,h,y,b,i,l),x(t,e[s].radial_min*Math.PI,e[s].radial_max*Math.PI,h),0===l&&M(t,s,l,y,b,c,h,o[s][l].length)}}(s,n,e,a,i,r,o),function(t,n,e){window.d3;t.append("g").attr("id","debug-collision-radii").selectAll("circle").data(n).enter().append("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return t.collision_radius||e}).attr("fill","none").attr("stroke",function(t){return 0===t.ring?"#00ff00":"#0000ff"}).attr("stroke-width",1).attr("stroke-dasharray","2,2").attr("opacity",.4)}(s,n.entries,n.blip_collision_radius),function(t,n){t.append("line").attr("x1",-n).attr("y1",0).attr("x2",n).attr("y2",0).attr("stroke","#666").attr("stroke-width",.5).attr("opacity",.3),t.append("line").attr("x1",0).attr("y1",-n).attr("x2",0).attr("y2",n).attr("stroke","#666").attr("stroke-width",.5).attr("opacity",.3)}(s,l),function(t,n,e){for(let a=0;a<n;a++){const i=-Math.PI+2*a*Math.PI/n;t.append("line").attr("x1",0).attr("y1",0).attr("x2",e*Math.cos(i)).attr("y2",e*Math.sin(i)).attr("stroke","#ff00ff").attr("stroke-width",2).attr("opacity",.6).attr("stroke-dasharray","10,5")}}(s,i,l),function(t,n){const e=t.append("g").attr("transform",d(10-n,10-n));[{y:0,text:"DEBUG MODE",color:"#000",bold:!0,fontSize:"11px"},{y:15,text:"━━ Ring 0 polar sector",color:"#ff0000",bold:!1,fontSize:"9px"},{y:28,text:"━━ Other rings polar sector",color:"#00ffff",bold:!1,fontSize:"9px"},{y:41,text:"━━ Cartesian bounding box",color:"#ffff00",bold:!1,fontSize:"9px"},{y:54,text:"○ Collision radius (Ring 0)",color:"#00ff00",bold:!1,fontSize:"9px"}].forEach(t=>{e.append("text").attr("x",0).attr("y",t.y).attr("font-size",t.fontSize).attr("font-weight",t.bold?"bold":"normal").attr("fill",t.color).text(t.text)})}(s,l)}function _(t,n,e,a,i,r,o){const s=window.d3,l=Math.PI/(2*r),d=r%4==1?l:-l,c=s.arc().innerRadius(n).outerRadius(e).startAngle(-i+d).endAngle(-a+d);t.append("path").attr("d",c).attr("fill","none").attr("stroke",0===o?"#ff0000":"#00ffff").attr("stroke-width",0===o?2:1).attr("stroke-dasharray","5,5").attr("opacity",.5)}function x(t,n,e,a){const i=r(n,e,a);t.append("rect").attr("x",i.min.x).attr("y",i.min.y).attr("width",i.max.x-i.min.x).attr("height",i.max.y-i.min.y).attr("fill","none").attr("stroke","#ffff00").attr("stroke-width",1).attr("stroke-dasharray","3,3").attr("opacity",.3)}function M(t,n,e,a,i,r,o,s){const l=(a+i)/2,d=(r+o)/2,c=Math.cos(l)*d,h=Math.sin(l)*d,f=(i-a)*r;t.append("text").attr("x",c).attr("y",h).attr("text-anchor","middle").attr("font-size","10px").attr("fill","#ff0000").attr("font-weight","bold").text(`Q${n}R${e}: ${s} items, arc=${f.toFixed(0)}px`)}function b(t,n,e,a){const i=window.d3;t.scale=t.scale||1;const r=t.width*t.scale,o=t.height*t.scale,s=i.select("svg#"+t.svg_id).style("background-color",t.colors.background).attr("width",r).attr("height",o),l=function(t){const n=t.node().closest(".radar-layout");if(n)return t.select(function(){return n});const e=t.node(),a=e.parentNode,i=document.createElement("div");i.className="radar-layout";const r=document.createElement("div");r.className="radar-legend-column left";const o=document.createElement("div");o.className="radar-svg-container";const s=document.createElement("div");return s.className="radar-legend-column right",a.insertBefore(i,e),o.appendChild(e),i.appendChild(r),i.appendChild(o),i.appendChild(s),t.select(function(){return i})}(s),c=l.select(".radar-legend-column.left"),h=l.select(".radar-legend-column.right"),f=l.node().getBoundingClientRect().width||t.width,u=2*t.legend_column_width+60,g=4*t.legend_column_width+80,p=Math.min(g,Math.max(u,.3*f)),m=Math.min(4,Math.max(2,Math.floor(p/(t.legend_column_width+20))));c.style("gap",t.legend_vertical_spacing+"px").style("width",p+"px"),h.style("gap",t.legend_vertical_spacing+"px").style("width",p+"px");const y=s.append("g");if("zoomed_quadrant"in t)s.attr("viewBox",function(t,n,e){const a=e[e.length-1].radius;return[Math.max(0,n[t].factor_x*a)-(a+20),Math.max(0,n[t].factor_y*a)-(a+20),a+40,a+40].join(" ")}(t.zoomed_quadrant,n,e));else{const n=o/2+(a.title_height-a.footer_height)/2,e=r/2+t.radar_horizontal_offset;y.attr("transform",d(e,n).concat(`scale(${t.scale})`))}t.font_family=t.font_family||"Arial, Helvetica";const _=y.append("g");return{svg:s,radar:y,legendLeftColumn:c,legendRightColumn:h,grid:_,legendSectionColumns:m}}function radar_visualization(t){!function(t){t.svg_id=t.svg||"radar",t.width=t.width||1450,t.height=t.height||1e3,t.colors="colors"in t?t.colors:{background:"#fff",grid:"#dddde0",inactive:"#ddd"},t.print_layout=!("print_layout"in t)||t.print_layout,t.links_in_new_tabs=!("links_in_new_tabs"in t)||t.links_in_new_tabs,t.repo_url=t.repo_url||"#",t.print_ring_descriptions_table="print_ring_descriptions_table"in t&&t.print_ring_descriptions_table,t.legend_column_width=t.legend_column_width||140,t.legend_line_height=t.legend_line_height||10,t.segment_radial_padding="segment_radial_padding"in t?t.segment_radial_padding:16,t.segment_angular_padding="segment_angular_padding"in t?t.segment_angular_padding:12,t.chart_padding="chart_padding"in t?t.chart_padding:60,t.blip_collision_radius="blip_collision_radius"in t?t.blip_collision_radius:14,t.legend_vertical_spacing=t.legend_vertical_spacing||20,t.radar_horizontal_offset="radar_horizontal_offset"in t?t.radar_horizontal_offset:Math.round(.25*t.legend_column_width),t.debug_geometry="debug_geometry"in t&&t.debug_geometry;const n=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;if(n<1024&&!t.scale){const a=Math.min(n/1450,e/1e3);t.scale=Math.max(.5,Math.min(1,a))}const a=t.quadrants.length,i=t.rings.length;if(a>=5||i>=6){const n=1+.05*(a-4)+.03*(i-4);t.width_override||(t.width=Math.round(t.width*Math.min(n,1.3))),t.height_override||(t.height=Math.round(t.height*Math.min(n,1.3))),(a>=7||i>=7)&&(t.blip_collision_radius=Math.max(10,.9*t.blip_collision_radius))}}(t);const n=function(t){const n=t.print_layout&&t.title?60:0,e=t.print_layout?40:0,a=2*t.chart_padding+40,i=Math.max(a,t.height-n-e),r=Math.max(2*t.chart_padding+40,t.width),o=Math.min(r,i)/2-t.chart_padding;return{title_height:n,footer_height:e,available_height:i,available_width:r,target_outer_radius:Math.max(10,o)}}(t),e=n.target_outer_radius;!function(t){const n=[];if((!t.quadrants||t.quadrants.length<2||t.quadrants.length>8)&&n.push(new i(`Number of quadrants must be between 2 and 8 (found: ${t.quadrants?.length||0})`,"quadrants",t.quadrants?.length)),(!t.rings||t.rings.length<4||t.rings.length>8)&&n.push(new i(`Number of rings must be between 4 and 8 (found: ${t.rings?.length||0})`,"rings",t.rings?.length)),t.entries&&t.quadrants&&t.rings&&t.entries.forEach((e,a)=>{(e.quadrant<0||e.quadrant>=t.quadrants.length)&&n.push(new i(`Entry '${e.label}' has invalid quadrant: ${e.quadrant} (must be 0-${t.quadrants.length-1})`,`entries[${a}].quadrant`,e.quadrant)),(e.ring<0||e.ring>=t.rings.length)&&n.push(new i(`Entry '${e.label}' has invalid ring: ${e.ring} (must be 0-${t.rings.length-1})`,`entries[${a}].ring`,e.ring))}),n.length>0)throw n[0]}(t);const s=new a(42),d=(t,n)=>s.between(t,n),_=t.quadrants.length,x=function(t){const n=[],e=2/t,a=2===t?-.5:0;for(let i=0;i<t;i++){const t=i*e-1+a,r=(i+1)*e-1+a,o=-Math.PI+(i+.5)*e*Math.PI+a*Math.PI;n.push({radial_min:t,radial_max:r,factor_x:Math.cos(o),factor_y:Math.sin(o)})}return n}(_),M=t.rings.length,w=function(t,n){const e=[];if(4===t)for(let t=0;t<4;t++)e.push(o[t]);else for(let n=0;n<t;n++){const a=n/(t-1)*3,i=Math.floor(a);let r;r=i>=3?400:o[i]+(o[i+1]-o[i])*(a-i),e.push(r)}const a=n/400;return e.map(function(t){return{radius:Math.max(10,Math.round(t*a))}})}(M,e),v=w[w.length-1].radius;x.map(function(t){return r(t.radial_min*Math.PI,t.radial_max*Math.PI,v)});!function(t,n,e){t.title_offset||(t.title_offset={x:-n,y:-n-40}),t.footer_offset||(t.footer_offset={x:-n,y:n+60}),t.legend_offset=c(e,n,t)}(t,v,_);new l(t,x,w,()=>s.next(),d).processEntries(t.entries);const k=new Array(_);for(let t=0;t<_;t++){k[t]=new Array(M);for(let n=0;n<M;n++)k[t][n]=[]}for(let n=0;n<t.entries.length;n++){const e=t.entries[n];k[e.quadrant][e.ring].push(e)}const q=b(t,x,w,n),{svg:I,radar:z,legendLeftColumn:P,legendRightColumn:E,grid:$}=q;!function(t,n,e,a,i){const r=e.length;for(let e=0;e<r;e++){const a=-Math.PI+2*e*Math.PI/r;t.append("line").attr("x1",0).attr("y1",0).attr("x2",i*Math.cos(a)).attr("y2",i*Math.sin(a)).attr("class","quadrant-line quadrant-line-"+e).style("stroke",n.colors.grid).style("stroke-width",1.5).style("stroke-opacity",.3)}const o=t.append("defs").append("filter").attr("x",0).attr("y",0).attr("width",1).attr("height",1).attr("id","solid");o.append("feFlood").attr("flood-color","rgb(0, 0, 0, 0.8)"),o.append("feComposite").attr("in","SourceGraphic");for(let e=0;e<a.length;e++){const i=a[e].radius,r=0===e?0:a[e-1].radius,o=Math.max(i-r,1),s=i-o/2,l=Math.max(12,Math.min(32,.45*o));e>0&&t.append("circle").attr("cx",0).attr("cy",0).attr("r",i).attr("class","ring ring-"+e).style("fill",e%2==0?"rgba(0, 0, 0, 0.01)":"rgba(0, 0, 0, 0.015)").style("stroke","none").style("pointer-events","none"),t.append("circle").attr("cx",0).attr("cy",0).attr("r",i).attr("class","ring-border ring-border-"+e).style("fill","none").style("stroke",n.colors.grid).style("stroke-width",0===e?2:1).style("stroke-opacity",0===e?.4:.25),n.print_layout&&t.append("text").text(n.rings[e].name).attr("y",-s).attr("text-anchor","middle").attr("dominant-baseline","middle").style("fill",n.rings[e].color).style("opacity",.35).style("font-family",n.font_family).style("font-size",l+"px").style("font-weight","bold").style("pointer-events","none").style("user-select","none")}}($,t,x,w,v),t.footer||(t.footer="▲ moved up     ▼ moved down     ★ new     ⬤ no change"),function(t,n){if(n.title&&n.print_layout){const e=t.append("a").attr("href",n.repo_url).attr("target",n.links_in_new_tabs?"_blank":null);e.append("text").attr("transform",`translate(${n.title_offset.x}, ${n.title_offset.y})`).text(n.title).style("font-family",n.font_family).style("font-size","34px").style("font-weight","bold"),e.append("text").attr("transform",`translate(${n.title_offset.x}, ${n.title_offset.y+30})`).text(n.date?n.date:"").style("font-family",n.font_family).style("font-size","14px").style("fill","#999")}n.footer&&n.print_layout&&t.append("text").attr("transform",`translate(${n.footer_offset.x}, ${n.footer_offset.y})`).text(n.footer).attr("xml:space","preserve").style("font-family",n.font_family).style("font-size","10px").style("fill","#999")}(z,t),t.print_layout?(P.style("display","flex"),E.style("display","flex"),function(t,n,e,a,i,r,o,s,l,d){t.html(""),n.html("");const c=r>=7?3:2,h=Math.ceil(i/2),f=Math.floor(i/2),u=i-2,g=[],p=[];for(let t=0;t<h;t++)p.push((u+t)%i);for(let t=0;t<f;t++)g.push((u-1-t+i)%i);function m(e){return g.includes(e)?t:n}for(let t=0;t<i;t++){const n=m(t).append("div").attr("class","legend-section").style("--legend-columns",c);n.append("div").attr("class","legend-quadrant-name").text(a.quadrants[t].name);const i=n.append("div").attr("class","legend-rings");for(let n=0;n<r;n++){const r=e[t][n];if(!r.length)continue;const c=i.append("div").attr("class","legend-ring");c.append("div").attr("class","legend-ring-name").style("color",a.rings[n].color).text(a.rings[n].name),c.append("div").attr("class","legend-ring-entries").selectAll("a").data(r).enter().append("a").attr("href",function(t){return t.link?t.link:"#"}).attr("target",function(t){return t.link&&a.links_in_new_tabs?"_blank":null}).attr("id",function(t){return"legendItem"+t.id}).attr("class","legend-entry").text(function(t){return t.id+". "+t.label}).on("mouseover",function(t,n){o(n,a),l(n)}).on("mouseout",function(t,n){s(),d(n)})}}}(P,E,k,t,_,M,h,f,u,g)):(P.style("display","none").html(""),E.style("display","none").html(""));var C=z.append("g").attr("id","rink"),A=(function(t,n){const e=t.append("g").attr("id","bubble").attr("x",0).attr("y",0).style("opacity",0).style("pointer-events","none").style("user-select","none");e.append("rect").attr("rx",4).attr("ry",4).style("fill","#333"),e.append("text").style("font-family",n).style("font-size","10px").style("fill","#fff"),e.append("path").attr("d","M 0,0 10,0 5,8 z").style("fill","#333")}(z,t.font_family),p(C,t.entries,t,h,f,u,g));m(t.entries,A,t),t.debug_geometry&&y(z,t,x,w,_,M,k),t.print_ring_descriptions_table&&function(t){const n=window.d3.select("body").append("table").attr("class","radar-table").style("border-collapse","collapse").style("position","relative").style("top","-70px").style("margin-left","50px").style("margin-right","50px").style("font-family",t.font_family).style("font-size","13px").style("text-align","left"),e=n.append("thead"),a=n.append("tbody"),i=100/t.rings.length+"%";e.append("tr").style("border","1px solid #ddd").selectAll("th").data(t.rings).enter().append("th").style("padding","8px").style("border","1px solid #ddd").style("background-color",t=>t.color).style("color","#fff").style("width",i).text(t=>t.name),a.append("tr").style("border","1px solid #ddd").selectAll("td").data(t.rings).enter().append("td").style("padding","8px").style("border","1px solid #ddd").style("width",i).text(t=>t.description)}(t)}return radar_visualization}();"undefined"!=typeof window&&(window.radar_visualization=radar_visualization),"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=radar_visualization),"undefined"!=typeof global&&(global.radar_visualization=radar_visualization);